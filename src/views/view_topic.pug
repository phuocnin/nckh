extends index

block content
  .card-body
    table.table.table-hover.table-condensed#list
      colgroup
        col(width="60%")
        col(width="10%")
        col(width="10%")

      thead
        tr
          th.text-center Thông báo
          th.text-center Ngày đăng
          th.text-center Hoạt động             
      tbody
        if data && data.length
          each notify in data
            tr
              td
                p
                  b= notify.ThongBao
                p.truncate= notify.NoiDung.split(" ").slice(0, 10).join(" ")
              td.text-center
                b= notify.createdAt.toLocaleDateString()

              td.text-center

                form(id=`deleteForm_${notify._id}`, style="display:inline;")
                  button.btn.btn-default.btn-sm.btn-flat.border-info.wave-effect.text-info.dropdown-toggle(type="button", data-toggle="dropdown", aria-expanded="true") Hoạt động
                  .dropdown-menu
                    a.dropdown-item.view_project(href=`/notify/${notify._id}`) Xem
                    .dropdown-divider
                    button.dropdown-item(type="button", onclick=`editNotify('${notify._id}')`) Chỉnh sửa
                    .dropdown-divider
                    button.dropdown-item(type="button", onclick=`deleteNotify('${notify._id}')`) Xóa
            
            //- Modal chỉnh sửa
          div(id=`editNotify-${notify._id}`).modal
            div.modal-dialog(style="width: 70vw; margin-top: 0vh;")
              div.modal-content(style="max-height: 80vh; overflow-y: auto;")
                span.close(onclick="closeeditNotify()") &times;
                h2 Chỉnh sửa thông báo
                form(id=`edit-form-${notify._id}`)
                  label Thông báo
                  input(type="text" name="editThongbao" class="form-control" id=`editThongbao-${notify._id}` required)
                  label Nội dung
                  textarea(name="editNoidung" class="form-control" id=`editNoidung-${notify._id}` required)            

                  .col-lg-12.text-right.justify-content-center.d-flex
                    button.btn.btn-primary(type="button" onclick=`saveEditForm('${notify._id}')`) Lưu
                    button.btn.btn-secondary(type="button" onclick=`closeeditNotify('${notify._id}')`) Hủy
        else
          tr
            td(colspan="3") No data available


  style.
    table p {
      margin: unset !important;
    }
    table td {
      vertical-align: middle !important;
    }

  script.
      $(document).ready(function(){
        $('#list').dataTable();
      });
