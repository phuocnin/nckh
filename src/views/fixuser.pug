extends index

block content
    .container-fluid
        form#manage-task(action='ajax.php?action=save_task', method='POST')
            input(type='hidden', name='id', value='')
            input(type='hidden', name='project_id', value='')
            .form-group
                label(for='task') Tên
                input.form-control.form-control-sm(type='text', name='name', value='', required)
            .form-group
                label(for='email') Email
                input.form-control.form-control-sm(type='text', name='email', value='', required)
            .form-group
                label(for='gender') Giới tính
                input.form-control.form-control-sm(type='text', name='gender', value='', required)
            .form-group
                label(for='phone') Số điện thoại
                input.form-control.form-control-sm(type='text', name='phone', value='', required)
            .form-group
                label(for='department') Khoa
                input.form-control.form-control-sm(type='text', name='department', value='', required)
            
            hr
            .col-lg-12.text-right.justify-content-center.d-flex
                button.btn.btn-primary.mr-2(type="submit") Lưu
                button.btn.btn-secondary(type="button" onclick="location.href = 'index.php?page=user_list'") Cancel  

    script.
        $(document).ready(function(){
            // Đổi '.summernote' thành '#description' nếu bạn đang muốn áp dụng Summernote cho trường mô tả.
            $('#description').summernote({
                height: 200,
                toolbar: [
                    ['style', ['style']],
                    ['font', ['bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript', 'clear']],
                    ['fontname', ['fontname']],
                    ['fontsize', ['fontsize']],
                    ['color', ['color']],
                    ['para', ['ol', 'ul', 'paragraph', 'height']],
                    ['table', ['table']],
                    ['view', ['undo', 'redo', 'fullscreen', 'codeview', 'help']]
                ]
            });

            $('#manage-task').submit(function(e){
                e.preventDefault();
                start_load();
                $.ajax({
                    url: $(this).attr('action'),
                    data: new FormData($(this)[0]),
                    cache: false,
                    contentType: false,
                    processData: false,
                    method: 'POST',
                    success: function(resp){
                        if(resp == 1){
                            alert_toast('Data successfully saved', 'success');
                            setTimeout(function(){
                                location.reload();
                            }, 1500);
                        }
                    }
                });
            });
        });
